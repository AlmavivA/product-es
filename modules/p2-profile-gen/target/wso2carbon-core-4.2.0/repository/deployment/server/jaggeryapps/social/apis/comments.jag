<%
response.addHeader("Content-Type", "application/json");

(function () {
    var carbon = require('carbon');
    var social = carbon.server.osgiService('org.wso2.carbon.social.service.SocialActivityService');
    var id = social.publish(JSON.parse(request.getParameter('activity')));

    var result = {
        success: Boolean(id),
        id: id
    };

    print(result);
})();
%>